<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  
    <style type="text/css">
      body {
        padding:15px;
      }
      .description {
        font-size: 13px;
      }
      table {
        font-size: 12px;
      }
      th, td {
        padding-right: 15px;
      }
      .total_row {
        border-top: black 1px solid;
      }
      .tablerow:empty:after {
        content: 'Nothing has been selected';
        color: #a9a9a9;
      } 
    </style>
  </head>
  <body>
    <h3>Pizza Ordering System</h3>
    <div class="row">
      <div class="col-md-9">



    <div class="row">
      <div class="col-md-6">
        <hr>
        <h4>Pizza Size</h4>
      <!-- Pizza Size Radio Buttons -->
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input pizza_size" type="radio" name="sizeRadios" value="Extra Large Pizza" cost="16">
          Extra Large &nbsp;&nbsp;<small>$16.00</small>
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input pizza_size" type="radio" name="sizeRadios" value="Large Pizza" cost="14">
          Large &nbsp;&nbsp;<small>$14.00</small>
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input pizza_size" type="radio" name="sizeRadios" value="Medium Pizza" cost="10">
          Medium &nbsp;&nbsp;<small>$10.00</small>
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input pizza_size" type="radio" name="sizeRadios" value="Personal Pizza" cost="6">
          Personal &nbsp;&nbsp;<small>$6.00</small>
        </label>
      </div>
      <hr>
      <h4>Meat Toppings</h4>
      <p class="description">1 topping free, then +$1.00 each </p>
      <!-- Pizza Toppings Check Boxes -->
      <div class="form-check meat">
        <label class="form-check-label">
          <input class="form-check-input meat" type="checkbox" value="Pepperoni">
          Pepperoni
        </label>
      </div>
      <div class="form-check meat">
        <label class="form-check-label">
          <input class="form-check-input meat" type="checkbox" value="Sausage">
          Sausage
        </label>
      </div>
      <div class="form-check meat">
        <label class="form-check-label">
          <input class="form-check-input meat" type="checkbox" value="Canadian Bacon">
          Canadian Bacon
        </label>
      </div>
      <div class="form-check meat">
        <label class="form-check-label">
          <input class="form-check-input meat" type="checkbox" value="Ground Beef">
          Ground Beef
        </label>
      </div>
      <div class="form-check meat">
        <label class="form-check-label">
          <input class="form-check-input meat" type="checkbox" value="Anchovies">
          Anchovy
        </label>
      </div>
      <div class="form-check meat">
        <label class="form-check-label">
          <input class="form-check-input meat" type="checkbox" value="Chicken">
          Chicken
        </label>
      </div>

      <hr>
      <h4>Cheese Selection</h4>
      <!-- Cheese Selection Radio Buttons -->
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input cheese" type="radio" name="cheeseRadios" cost="0" value="No Cheese">
          No Cheese
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input cheese" type="radio" name="cheeseRadios" cost="0" value="Regular Cheese">
          Regular
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input cheese" type="radio" name="cheeseRadios" cost="3" value="Extra Cheese">
          Extra Cheese &nbsp;&nbsp;<small>+$3.00</small>

        </label>
      </div>
    </div>

    <div class="col-md-6">
      <hr>
      <h4>Pizza Crust</h4>
      <!-- Crust Selection Radio Buttons -->
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input crust" type="radio" name="crustRadios" cost="0" value="Plain Crust">
          Plain Crust
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input crust" type="radio" name="crustRadios" cost="0" value="Garlic Butter Crust">
          Garlic Butter Crust
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input crust" type="radio" name="crustRadios" cost="3" value="Cheese Stuffed Crust">
          Cheese Stuffed Crust&nbsp;&nbsp;<small>+$3.00</small>
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input crust" type="radio" name="crustRadios" cost="0" value="Spicy Crust">
          Spicy Crust
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input crust" type="radio" name="crustRadios" cost="0" value="House Special Crust">
          House Special Crust
        </label>
      </div>


      <hr>
      <h4>Pizza Sauce</h4>
      <!-- Sauce Selection Radio Buttons -->
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input sauce" type="radio" name="sauceRadios" value="No Sauce">
            No Sauce
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input sauce" type="radio" name="sauceRadios" value="Marinara Sauce">
          Marinara Sauce
        </label>
      </div>
       <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input sauce" type="radio" name="sauceRadios" value="White Sauce">
          White Sauce
        </label>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input class="form-check-input sauce" type="radio" name="sauceRadios" value="Barbeque Sauce">
          Barbeque Sauce
        </label>
      </div>

      <hr>
      <h4>Veggies Selection</h4>
            <p class="description">1 topping free, then +$1.00 each </p>

          <!-- Veggies Selection Radio Buttons -->
      <div class="row">
        <div class="col-md-6">
              <div class="form-check veggies">
            <label class="form-check-label">
              <input class="form-check-input" type="checkbox" value="Tomatoes">
              Tomatoes
            </label>
          </div>
          <div class="form-check veggies">
            <label class="form-check-label">
              <input class="form-check-input" type="checkbox" value="Onions">
              Onions
            </label>
          </div>
          <div class="form-check veggies">
            <label class="form-check-label">
              <input class="form-check-input" type="checkbox" value="Olives">
              Olives 
            </label>
          </div>
          <div class="form-check veggies">
            <label class="form-check-label">
              <input class="form-check-input" type="checkbox" value="Green Peppers">
              Green Peppers
            </label>
          </div>


        </div>
        <div class="col-md-6">
          <div class="form-check veggies">
        <label class="form-check-label">
          <input class="form-check-input" type="checkbox" value="Mushrooms">
          Mushrooms
        </label>
      </div>
      <div class="form-check veggies">
        <label class="form-check-label">
          <input class="form-check-input" type="checkbox" value="Pineapple">
          Pineapple
        </label>
      </div>
      <div class="form-check veggies">
        <label class="form-check-label">
          <input class="form-check-input" type="checkbox" value="Spinach">
          Spinach
        </label>
      </div>
      <div class="form-check veggies">
        <label class="form-check-label">
          <input class="form-check-input" type="checkbox" value="Jalapenos">
          Jalapenos
        </label>
      </div>
        </div>
      </div>

      
    </div>
    </div>
</div>
    <div class="col-md-3">
      <h4>Order Total</h4>
      <hr>
      <table class="receipt_table">
        <tr>
          <th>
            Item
          </th>
          <th id="right_col">
            Price
          </th>
        </tr>
        <tr class="tablerow"></tr>
        <tr class="cheese_row"></tr>
        <tr class="crust_row"></tr>
        <tr class="sauce_row"></tr>
        <tr class="meat_row"></tr>
        <tr class="veggies_row"></tr>
        <tr class="total_row"></tr>
      </table>
      <br>
      <button type="button" data-toggle="modal" data-target="#receipt_modal" class="btn btn-outline-success btn-sm receipt">View Printable Receipt</button>
      <button type="button" class="btn btn-outline-danger btn-sm place_order">Place Order</button>
    </div>
  </div>

  <div class="modal" id="receipt_modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Receipt</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Print</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>




    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

    <script type="text/javascript">

    //global UI connector variables
    var g_pizza_size;
    var g_pizza_crust;
    var g_pizza_toppings;
    var g_pizza_cheese;
    var g_pizza_sauce;
    var g_pizza_veggies;
    var g_pizza_total = 0;
    var ord_pizza_size;
    var ord_pizza_crust;
    var ord_pizza_toppings;
    var ord_pizza_cheese;
    var ord_pizza_sauce;
    var ord_pizza_veggies;
    var ord_pizza_total;

    // create Pizza object for order.
    function Pizza(size,crust,toppings,cheese,sauce,veggies) {
      this.size = size;
      this.crust = crust;
      this.toppings = toppings;
      this.cheese = cheese;
      this.sauce = sauce;
      this.veggies = veggies;
    }

    // calculate checkbox addition prices
    function calculateToppingOrVeggiePrice(topping) {
        var topping_quantity = topping.length
        var topping_price;
        if (topping_quantity > 1) {
          topping_price = topping_quantity - 1
        }
        else {
          topping_price = 0
        }
        return topping_price;
    }

    // calculate the total current price (updates when ingredients are added)
    function calcTotal(veggies,sauce,cheese,toppings,crust,size) {
      if (veggies === undefined) {
        veggies = 0
      }
      if (sauce === undefined) {
        sauce = 0;
      }
      if (cheese === undefined) {
        cheese = 0;
      }
      if (toppings === undefined) {
        toppings = 0;
      }
      if (crust === undefined) {
        crust = 0;
      }
      if (size === undefined) {
        size = 0;
      }
      g_pizza_total = veggies + sauce + cheese +  toppings + crust + size
      return g_pizza_total
    }

    // Event Handlers
    $('.pizza_size').click(function() {
        // Get values from front-end
        var pizza_size = $(this).attr('value');
        var pizza_cost = parseInt($(this).attr('cost'));

        // assign values to globals
        g_pizza_size = pizza_cost;
        ord_pizza_size = pizza_size

        // calculate total price
        var total = calcTotal(g_pizza_veggies,g_pizza_sauce,g_pizza_cheese,g_pizza_toppings,g_pizza_crust,g_pizza_size)

        // print info to the Check pane
        $('.tablerow').html('<td class="item_desc">' + pizza_size + '</td><td class="item_price">$' + pizza_cost + '.00</td>')
        $('.total_row').html('<td class="item_desc">Total</td><td class="item_price">$' + total + '.00</td>');
    });

    $('.cheese').click(function() {
        // Get values from front-end
        var cheese_type = $(this).attr('value');
        var cheese_cost = parseInt($(this).attr('cost'));

        // assign values to globals
        g_pizza_cheese = cheese_cost
        ord_pizza_cheese = cheese_type

        // calculate total price
        var total = calcTotal(g_pizza_veggies,g_pizza_sauce,g_pizza_cheese,g_pizza_toppings,g_pizza_crust,g_pizza_size)

        // print info to Check pane
        $('.cheese_row').html('<td class="item_desc">' + cheese_type + '</td><td class="item_price">$' + cheese_cost + '.00</td>')
        $('.total_row').html('<td class="item_desc">Total</td><td class="item_price">$' + total + '.00</td>');
    });
    $('.crust').click(function() {
        // Get values from front-end
        var crust_type = $(this).attr('value');
        var crust_cost = parseInt($(this).attr('cost'));

        // assign values to globals
        g_pizza_crust = crust_cost
        ord_pizza_crust = crust_type

        // calculate total price
        var total = calcTotal(g_pizza_veggies,g_pizza_sauce,g_pizza_cheese,g_pizza_toppings,g_pizza_crust,g_pizza_size)

        // print info to Check pane
        $('.crust_row').html('<td class="item_desc">' + crust_type + '</td><td class="item_price">$' + crust_cost + '.00</td>')
        $('.total_row').html('<td class="item_desc">Total</td><td class="item_price">$' + total + '.00</td>');
    });
    $('.sauce').click(function() {
        // Get values from front-end
        var sauce_type = $(this).attr('value');

        // assign values to globals
        ord_pizza_sauce = sauce_type;

        // calclate total price
        var total = calcTotal(g_pizza_veggies,g_pizza_sauce,g_pizza_cheese,g_pizza_toppings,g_pizza_crust,g_pizza_size)

        // print info to Check pane
        $('.sauce_row').html('<td class="item_desc">' + sauce_type + '</td><td class="item_price">$0.00</td>')
        $('.total_row').html('<td class="item_desc">Total</td><td class="item_price">$' + total + '.00</td>');
    });

    $('.meat').click(function() {
        // Get values from front-end
        var allVals = [];
        $('.meat :checked').each(function() {
           allVals.push($(this).val());
        });
        
        // calculate meat cost
        var meat_cost = calculateToppingOrVeggiePrice(allVals);

        // assign values to globals
        g_pizza_toppings = meat_cost
        ord_pizza_toppings = allVals;

        // calculate total price
        var total = calcTotal(g_pizza_veggies,g_pizza_sauce,g_pizza_cheese,g_pizza_toppings,g_pizza_crust,g_pizza_size)

        //print info to Check pane
        $('.meat_row').html('<td class="item_desc">Meats: <br>' + allVals + '</td><td class="item_price">$' + meat_cost + '.00</td>')
        $('.total_row').html('<td class="item_desc">Total</td><td class="item_price">$' + total + '.00</td>');
    });

    $('.veggies').click(function() {
        // Get values from front-end
        var allVals = [];
        $('.veggies :checked').each(function() {
           allVals.push($(this).val());
        });
        // calculate veggies cost
        var veggies_cost = calculateToppingOrVeggiePrice(allVals);

        // assign values to globals
        g_pizza_veggies = veggies_cost
        ord_pizza_veggies = allVals;

        //calculate total price
        var total = calcTotal(g_pizza_veggies,g_pizza_sauce,g_pizza_cheese,g_pizza_toppings,g_pizza_crust,g_pizza_size)

        // print info to Check pane
        $('.veggies_row').html('<td class="item_desc">Veggies: <br>' + allVals + '</td><td class="item_price">$' + veggies_cost + '.00</td>')
        $('.total_row').html('<td class="item_desc">Total</td><td class="item_price">$' + total + '.00</td>');
    });

    // Receipt button handler
    $('.receipt').click(function() {
      $('.modal-body').html(
        $('.receipt_table').html()
      );
    });

    // place order button handler
    $('.place_order').click(function() {
      var pizza_order = new Pizza(ord_pizza_size,ord_pizza_crust,ord_pizza_toppings,ord_pizza_cheese,ord_pizza_sauce,ord_pizza_veggies);
      alert("The contents below are the new Pizza Object\n\n" + JSON.stringify(pizza_order));
    })

    </script>

  </body>
</html>